(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(t,i,e){"use strict";e.r(i);var o=e("fXoL"),n=e("qXBG"),r=e("tyNb"),s=e("ofXK"),c=e("3Pt+");let b=(()=>{class t{constructor(){this.close=new o.n}ngOnInit(){}onClose(){this.close.emit()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{close:"close"},decls:7,vars:1,consts:[[1,"backdrop"],[1,"alert-box"],[1,"alert-action"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(o.Kb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"p"),o.hc(3),o.Lb(),o.Mb(4,"div",2),o.Mb(5,"button",3),o.Ub("click",(function(){return i.onClose()})),o.hc(6,"close"),o.Lb(),o.Lb(),o.Lb()),2&t&&(o.zb(3),o.ic(i.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.75)}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30vh;left:20vw;width:60vw;background:#fff;padding:15px;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,.26)}.alert-action[_ngcontent-%COMP%]{text-align:right}"]}),t})();function a(t,i){if(1&t){const t=o.Nb();o.Mb(0,"app-alert",14),o.Ub("close",(function(){return o.dc(t),o.Wb().clearError()})),o.Lb()}if(2&t){const t=o.Wb();o.Xb("message",t.error)}}function l(t,i){1&t&&o.Kb(0,"i",15)}let u=(()=>{class t{constructor(t,i,e){this.authService=t,this.router=i,this.route=e,this.error=null,this.isLoginMode=!0,this.isLoading=!1}ngOnInit(){}errorTimeout(){setTimeout(()=>{this.error=null},7e3)}clearError(){this.error=null}onSubmit(t){if(t.valid){const i=t.value.password,e=t.value.email;let o;this.isLoading=!0,o=this.isLoginMode?this.authService.signIn(e,i):this.authService.signUp(e,i),o.subscribe(t=>{this.isLoading=!1,this.router.navigate(["../recipe"],{relativeTo:this.route})},t=>{this.error=t,this.isLoading=!1,this.errorTimeout()})}else this.error="Please submit a valid form.",this.errorTimeout()}onSwitchMode(){this.isLoginMode=!this.isLoginMode}}return t.\u0275fac=function(i){return new(i||t)(o.Jb(n.a),o.Jb(r.c),o.Jb(r.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-auth"]],decls:21,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"message","close",4,"ngIf"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group","mt-2"],["for","email"],["name","email","type","email","required","","email","","ngModel","",1,"form-control"],[1,"form-group"],["name","password","type","password","required","","minlength","6","ngModel","",1,"form-control"],[1,"btn","btn-success","mr-2",3,"disabled"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],["type","button",1,"btn","btn-success","ml-1",3,"click"],[3,"message","close"],[1,"fa","fa-circle-o-notch","fa-spin"]],template:function(t,i){if(1&t){const t=o.Nb();o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.gc(3,a,1,1,"app-alert",3),o.Mb(4,"form",4,5),o.Ub("ngSubmit",(function(){o.dc(t);const e=o.cc(5);return i.onSubmit(e)})),o.Mb(6,"div",6),o.Mb(7,"label",7),o.hc(8,"Email"),o.Lb(),o.Kb(9,"input",8),o.Lb(),o.Mb(10,"div",9),o.Mb(11,"label",7),o.hc(12,"Password"),o.Lb(),o.Kb(13,"input",10),o.Lb(),o.Mb(14,"div"),o.Mb(15,"button",11),o.gc(16,l,1,0,"i",12),o.hc(17),o.Lb(),o.hc(18,"| "),o.Mb(19,"button",13),o.Ub("click",(function(){return i.onSwitchMode()})),o.hc(20),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()}if(2&t){const t=o.cc(5);o.zb(3),o.Xb("ngIf",i.error),o.zb(12),o.Xb("disabled",t.invalid&&t.touched),o.zb(1),o.Xb("ngIf",i.isLoading),o.zb(1),o.jc(" ",i.isLoginMode?"Login":"Sign Up",""),o.zb(3),o.ic(i.isLoginMode?"Switch to Sign Up":"Switch to Login")}},directives:[s.i,c.u,c.m,c.n,c.a,c.s,c.b,c.l,c.o,c.k,b],styles:[""]}),t})();var d=e("PCNd");e.d(i,"AuthModule",(function(){return h}));let h=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(i){return new(i||t)},providers:[],imports:[[s.b,c.j,r.g.forChild([{path:"",component:u}]),d.a]]}),t})()}}]);