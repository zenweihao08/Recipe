{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"fXoL\"),auth_service=__webpack_require__(\"qXBG\"),router=__webpack_require__(\"tyNb\"),common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\");let alert_component_AlertComponent=(()=>{class AlertComponent{constructor(){this.close=new core.n}ngOnInit(){}onClose(){this.close.emit()}}return AlertComponent.ɵfac=function(t){return new(t||AlertComponent)},AlertComponent.ɵcmp=core.Db({type:AlertComponent,selectors:[[\"app-alert\"]],inputs:{message:\"message\"},outputs:{close:\"close\"},decls:7,vars:1,consts:[[1,\"backdrop\"],[1,\"alert-box\"],[1,\"alert-action\"],[1,\"btn\",\"btn-primary\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"div\",0),core.Mb(1,\"div\",1),core.Mb(2,\"p\"),core.hc(3),core.Lb(),core.Mb(4,\"div\",2),core.Mb(5,\"button\",3),core.Ub(\"click\",(function(){return ctx.onClose()})),core.hc(6,\"close\"),core.Lb(),core.Lb(),core.Lb()),2&rf&&(core.zb(3),core.ic(ctx.message))},styles:[\".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.75)}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30vh;left:20vw;width:60vw;background:#fff;padding:15px;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,.26)}.alert-action[_ngcontent-%COMP%]{text-align:right}\"]}),AlertComponent})();function AuthComponent_app_alert_3_Template(rf,ctx){if(1&rf){const _r37=core.Nb();core.Mb(0,\"app-alert\",14),core.Ub(\"close\",(function(){return core.dc(_r37),core.Wb().clearError()})),core.Lb()}if(2&rf){const ctx_r33=core.Wb();core.Xb(\"message\",ctx_r33.error)}}function AuthComponent_i_16_Template(rf,ctx){1&rf&&core.Kb(0,\"i\",15)}let auth_component_AuthComponent=(()=>{class AuthComponent{constructor(authService,router,route){this.authService=authService,this.router=router,this.route=route,this.error=null,this.isLoginMode=!0,this.isLoading=!1}ngOnInit(){}errorTimeout(){setTimeout(()=>{this.error=null},7e3)}clearError(){this.error=null}onSubmit(f){if(f.valid){const password=f.value.password,email=f.value.email;let authSub;this.isLoading=!0,authSub=this.isLoginMode?this.authService.signIn(email,password):this.authService.signUp(email,password),authSub.subscribe(respond=>{this.isLoading=!1,this.router.navigate([\"../recipe\"],{relativeTo:this.route})},error=>{this.error=error,this.isLoading=!1,this.errorTimeout()})}else this.error=\"Please submit a valid form.\",this.errorTimeout()}onSwitchMode(){this.isLoginMode=!this.isLoginMode}}return AuthComponent.ɵfac=function(t){return new(t||AuthComponent)(core.Jb(auth_service.a),core.Jb(router.c),core.Jb(router.a))},AuthComponent.ɵcmp=core.Db({type:AuthComponent,selectors:[[\"app-auth\"]],decls:21,vars:5,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-md-12\"],[3,\"message\",\"close\",4,\"ngIf\"],[3,\"ngSubmit\"],[\"f\",\"ngForm\"],[1,\"form-group\",\"mt-2\"],[\"for\",\"email\"],[\"name\",\"email\",\"type\",\"email\",\"required\",\"\",\"email\",\"\",\"ngModel\",\"\",1,\"form-control\"],[1,\"form-group\"],[\"name\",\"password\",\"type\",\"password\",\"required\",\"\",\"minlength\",\"6\",\"ngModel\",\"\",1,\"form-control\"],[1,\"btn\",\"btn-success\",\"mr-2\",3,\"disabled\"],[\"class\",\"fa fa-circle-o-notch fa-spin\",4,\"ngIf\"],[\"type\",\"button\",1,\"btn\",\"btn-success\",\"ml-1\",3,\"click\"],[3,\"message\",\"close\"],[1,\"fa\",\"fa-circle-o-notch\",\"fa-spin\"]],template:function(rf,ctx){if(1&rf){const _r38=core.Nb();core.Mb(0,\"div\",0),core.Mb(1,\"div\",1),core.Mb(2,\"div\",2),core.gc(3,AuthComponent_app_alert_3_Template,1,1,\"app-alert\",3),core.Mb(4,\"form\",4,5),core.Ub(\"ngSubmit\",(function(){core.dc(_r38);const _r34=core.cc(5);return ctx.onSubmit(_r34)})),core.Mb(6,\"div\",6),core.Mb(7,\"label\",7),core.hc(8,\"Email\"),core.Lb(),core.Kb(9,\"input\",8),core.Lb(),core.Mb(10,\"div\",9),core.Mb(11,\"label\",7),core.hc(12,\"Password\"),core.Lb(),core.Kb(13,\"input\",10),core.Lb(),core.Mb(14,\"div\"),core.Mb(15,\"button\",11),core.gc(16,AuthComponent_i_16_Template,1,0,\"i\",12),core.hc(17),core.Lb(),core.hc(18,\"| \"),core.Mb(19,\"button\",13),core.Ub(\"click\",(function(){return ctx.onSwitchMode()})),core.hc(20),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb()}if(2&rf){const _r34=core.cc(5);core.zb(3),core.Xb(\"ngIf\",ctx.error),core.zb(12),core.Xb(\"disabled\",_r34.invalid&&_r34.touched),core.zb(1),core.Xb(\"ngIf\",ctx.isLoading),core.zb(1),core.jc(\" \",ctx.isLoginMode?\"Login\":\"Sign Up\",\"\"),core.zb(3),core.ic(ctx.isLoginMode?\"Switch to Sign Up\":\"Switch to Login\")}},directives:[common.i,fesm2015_forms.u,fesm2015_forms.m,fesm2015_forms.n,fesm2015_forms.a,fesm2015_forms.s,fesm2015_forms.b,fesm2015_forms.l,fesm2015_forms.o,fesm2015_forms.k,alert_component_AlertComponent],styles:[\"\"]}),AuthComponent})();var shared_module=__webpack_require__(\"PCNd\");__webpack_require__.d(__webpack_exports__,\"AuthModule\",(function(){return auth_module_AuthModule}));let auth_module_AuthModule=(()=>{class AuthModule{}return AuthModule.ɵmod=core.Hb({type:AuthModule}),AuthModule.ɵinj=core.Gb({factory:function(t){return new(t||AuthModule)},providers:[],imports:[[common.b,fesm2015_forms.j,router.g.forChild([{path:\"\",component:auth_component_AuthComponent}]),shared_module.a]]}),AuthModule})()}}]);","extractedComments":[]}